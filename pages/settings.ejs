<!DOCTYPE html>
<html lang="en">
<%- include('../partials/head.ejs', {page: "settings"}); %>

<body class="bg-gray-100">
  <%- include('../partials/nav.ejs', {active: "settings", user, loggedIn, noPost: true}); %>

  <main class="container mx-auto px-4 mt-24 md:mt-16">
    <h1 class="inline-block font-bold text-2xl">Settings</h1>
    <section class="mt-2 mb-5 bg-white p-5 rounded-xl">
      <h1 class="font-bold text-2xl text-gray-700 mb-4">Account</h1>
      <form action="/username" method="post">
        <label for="username">Username: </label>
        <input
          class="appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5"
          name="username" type='text' id="username" value="<%= user.name %>">
        <p class="my-2 text-gray-500">Note that changing your username may have <a href='#' class="text-indigo-600">undesirable
            consequences</a></p>
        <input class="block p-2 text-white bg-indigo-500 rounded my-2" type="submit" value="Update">
      </form>
    </section>

    <section class="mt-2 mb-5 bg-white p-5 rounded-xl">
      <h1 class="font-bold text-2xl text-gray-700 mb-4">Danger zone</h1>
      <details class='text-gray-700'>
        <summary>I want to delete my account</summary>
        <form class="text-black" action="/username" method="post">
          <input type="checkbox" name="agree" id="agree"><label class='ml-2' for="agree">I understand the severity of this action, and that accounts cannot be recovered.</label>
          <input class="block p-2 text-white bg-red-500 rounded my-2" type="submit" value="Delete <%= user.name %>">
        </form>
      </details>
    </section>

  </main>
</body>

</html>